I"<div id="toc">
Contents
</div>
<ul id="markdown-toc">
  <li><a href="#풀이" id="markdown-toc-풀이">풀이</a></li>
</ul>
<hr />

<p><a href="https://www.acmicpc.net/problem/17532">문제 링크</a><br />
난이도 : solved.ac 기준 Platinum 4.</p>

<h2 id="풀이">풀이</h2>
<p>결국 주어진 문제는, 어떤 트리가 주어질 때, 트리에서 최대 $K$개의 path를 택하여 그 path들의 union의 길이의 합을 최대화하는 문제입니다.</p>

<p>문제의 특성 상, 트리 DP를 먼저 생각해 볼 수 있습니다.<br />
<code class="language-plaintext highlighter-rouge">dp[i][j]</code> : $i$번째 노드를 루트로 하는 subtree에 대해, $j$개의 path를 택했을 때의 최댓값</p>

<p>이 DP를 계산하는 방법을 생각해 봅시다. 만약 내 child node에 대해 모든 dp값을 알고 있다면, 내 child node 들에 대해 각 노드당 몇개의 chain을 사용할지를 정해야 합니다. 이는 굳이 열심히 복잡도를 계산해 보지 않더라도, 적어도 $O(NK)$ 칸의 DP를 모두 채워야 하기 때문에 전혀 답이 없습니다. 예를 들어 3개의 자식노드를 가진 노드에 대해 <code class="language-plaintext highlighter-rouge">dp[i][5]</code>를 계산하려면, 5를 3개로 분할하는 모든 경우에 대해 각각 dp값을 더해서 확인해야 하기 때문에 exponential한 시간이 걸릴 것입니다.</p>

<p>대신해서, 이렇게 생각해 봅시다.</p>
<ul>
  <li>만약 최종적인 답이, 트리에서 가장 긴 체인을 포함하지 않는다면 아무 체인이나 하나를 빼고 대신에 이 가장 긴 체인을 집어넣으면</li>
</ul>
:ET